<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
  th:replace="~{layouts/base :: layout(~{::title}, ~{}, ~{}, ~{::body/content()})}"
>
<head>
  <title>商品詳細</title>
</head>
<body>
  <!-- Contents -->
  <section class="py-3">
    <div class="container px-4 px-lg-5 my-3">
      <div class="row gx-4 gx-lg-5">
        <div class="col-md-6">
          <img class="card-img-top mb-5 mb-md-0" th:src="@{${product.imagePath}}" alt="product image" />
        </div>
        <div class="col-md-6">
          <h1 class="display-5 fw-bolder">[[${product.name}]]</h1>
          <div class="fs-5 mb-5">
            <span>&yen;[[${product.price}]]</span>
          </div>
          <p class="lead mb-5">
            [[${product.description}]]
          </p>
          <div class="d-flex input-group">
              <button id="minus_button" type="button" class="btn btn-secondary">
                <i class="bi bi-dash"></i>
              </button>
              <input id="quantity" type="number" class="form-control text-center" readonly style="max-width: 3rem" />
              <button id="plus_button" type="button" class="btn btn-secondary">
                <i class="bi bi-plus"></i>
              </button>
              <button class="btn btn-outline-primary flex-shrink-0 ms-4" type="button">
                  <i class="bi-cart-fill me-1"></i>
                  カートに追加
              </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-3 bg-light">
    <div class="container px-4 px-lg-5 mt-1">
      <div class="row">
          <div class="col-12">
              <h3 class="fw-bolder mb-4">商品詳細</h3>
              <ul th:each="detail : ${product.details}" th:object="${item}">
                  <li class="py-1">
                    <span>[[${detail.name}]]</span><span class="mx-1">:</span><span>[[${detail.value}]]</span>
                  </li>
              </ul>
          </div>
      </div>
    </div>
  </section>
  <script>
	  let productsQuantity = document.getElementById('quantity'); // 数量ボックス
	  productsQuantity.value = 0;
	  let minusButton = document.getElementById('minus_button'); // マイナスボタン
	  let plusButton = document.getElementById('plus_button'); // プラスボタン
	  
	  // マイナスボタンのイベント追加
	  minusButton.addEventListener('click', function() {
		  	productsQuantity.value--;
	  });
	  
	  // プラスボタンのイベント追加
	  plusButton.addEventListener('click', function() {
			  productsQuantity.value++;
	  });
	  
	  // モーダル表示
	  
  </script>
  <th:block th:replace="~{layouts/modal_fragments :: messageModal}" />
</body>
</html>
